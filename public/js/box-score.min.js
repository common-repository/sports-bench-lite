"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var BoxScoreTabController=function(){function t(e){_classCallCheck(this,t),this.container=document.querySelector(e),this.tablist=this.container.querySelector("[role=tablist]"),this.tabs=this.container.querySelectorAll("[role=tab]"),this.tabpanels=this.container.querySelectorAll("[role=tabpanel]"),this.activeTab=this.container.querySelector("[role=tab][aria-selected=true]"),console.log(this.activeTab),this._addEventListeners()}return _createClass(t,[{key:"_addEventListeners",value:function(){var e,r=this,t=_createForOfIteratorHelper(this.tabs);try{for(t.s();!(e=t.n()).done;)!function(){var t=e.value;t.addEventListener("click",function(e){e.preventDefault(),r.setActiveTab(t.getAttribute("aria-controls"))}),t.addEventListener("keyup",function(e){13!=e.keyCode&&32!=e.keyCode||(e.preventDefault(),r.setActiveTab(t.getAttribute("aria-controls")))})}()}catch(e){t.e(e)}finally{t.f()}this.tablist.addEventListener("keyup",function(e){switch(e.keyCode){case 35:e.preventDefault(),r.setActiveTab(r.tabs[r.tabs.length-1].getAttribute("aria-controls"));break;case 36:e.preventDefault(),r.setActiveTab(r.tabs[0].getAttribute("aria-controls"));break;case 37:e.preventDefault();var t=0<=(t=_toConsumableArray(r.tabs).indexOf(r.activeTab)-1)?t:r.tabs.length-1;r.setActiveTab(r.tabs[t].getAttribute("aria-controls"));break;case 39:e.preventDefault();t=(t=_toConsumableArray(r.tabs).indexOf(r.activeTab)+1)<r.tabs.length?t:0;r.setActiveTab(r.tabs[t].getAttribute("aria-controls"))}})}},{key:"setActiveTab",value:function(e){var t,r=_createForOfIteratorHelper(this.tabs);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.getAttribute("aria-controls")==e?(a.setAttribute("aria-selected","true"),a.focus(),this.activeTab=a):a.setAttribute("aria-selected","false")}}catch(e){r.e(e)}finally{r.f()}var n,o=_createForOfIteratorHelper(this.tabpanels);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.getAttribute("id")==e?i.setAttribute("aria-expanded","true"):i.setAttribute("aria-expanded","false")}}catch(e){o.e(e)}finally{o.f()}}}]),t}(),boxScoreTabController=new BoxScoreTabController("#box-score-events");jQuery(function(t){var r=[],e=function(e){for(var t,r=window.location.search.substring(1).split("&"),a=0;a<r.length;a++)if((t=r[a].split("="))[0]===e)return void 0===_typeof(t[1])||decodeURIComponent(t[1]);return!1}("game_id");window.setInterval(function(){t.post({url:sbboxscore.url,data:{nonce:sbboxscore.nonce,action:"sports_bench_box_score_ajax",game_id:e,event_ids:r},success:function(e){r=e.data[1],0<e.data[0].length&&t(e.data[0]).insertBefore(".game-events tbody tr:first").fadeIn("fast"),"baseball"===sbboxscore.sport&&0<e.data[2].length&&t(e.data[2]).insertBefore(".game-events.runs-scored tbody tr:first").fadeIn("fast")},fail:function(e){console.log(e)}})},6e4),t(".game-events:not(.runs-scored) .event-id").each(function(){var e=t(this).text();r.push(e)})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJveC1zY29yZS5qcyJdLCJuYW1lcyI6WyJCb3hTY29yZVRhYkNvbnRyb2xsZXIiLCJjb250YWluZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGFibGlzdCIsInRhYnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidGFicGFuZWxzIiwiYWN0aXZlVGFiIiwiY29uc29sZSIsImxvZyIsIl9hZGRFdmVudExpc3RlbmVycyIsIl9zdGVwIiwiX3RoaXMiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsInMiLCJuIiwiZG9uZSIsInRhYiIsInZhbHVlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNldEFjdGl2ZVRhYiIsImdldEF0dHJpYnV0ZSIsImtleUNvZGUiLCJfbG9vcCIsImVyciIsImYiLCJwcmV2aW91cyIsIl90b0NvbnN1bWFibGVBcnJheSIsImluZGV4T2YiLCJsZW5ndGgiLCJuZXh0IiwiaWQiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwic2V0QXR0cmlidXRlIiwiX3N0ZXAzIiwiX2l0ZXJhdG9yMyIsInRhYnBhbmVsIiwiYm94U2NvcmVUYWJDb250cm9sbGVyIiwialF1ZXJ5IiwiJCIsImV2ZW50SWRzIiwiZ2FtZV9pZCIsInNQYXJhbSIsInNQYXJhbWV0ZXJOYW1lIiwic1VSTFZhcmlhYmxlcyIsIndpbmRvdyIsInNlYXJjaCIsInNwbGl0IiwiaSIsInVuZGVmaW5lZCIsIl90eXBlb2YiLCJkZWNvZGVVUklDb21wb25lbnQiLCJnZXRVcmxQYXJhbWV0ZXIiLCJzZXRJbnRlcnZhbCIsInBvc3QiLCJ1cmwiLCJzYmJveHNjb3JlIiwiZGF0YSIsIm5vbmNlIiwiYWN0aW9uIiwiZXZlbnRfaWRzIiwic3VjY2VzcyIsInJlc3BvbnNlIiwiaW5zZXJ0QmVmb3JlIiwiZmFkZUluIiwic3BvcnQiLCJmYWlsIiwiZWFjaCIsImV2ZW50SUQiLCJ0ZXh0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U0FBQUMsR0FtRFosSUF6Q0lDLEVBQUlmLEdBMkRGZ0IsRUFsQmdCLFNBQXlCQyxHQS9DbkMsSUFGUixJQUNBQyxFQWtERkMsRUFuRE1DLE9BQUMxQixTQUFhMkIsT0FBSzlDLFVBQVVBLEdBbURWK0MsTUFBTSxLQWpEckJDLEVBQUEsRUFBQUEsRUFBQUosRUFBQWhCLE9BQUFvQixJQUVSLElBREEvQixFQUFFQyxFQUFGOEIsR0FBQUQsTUFBQSxNQUNLNUIsS0FBQUEsRUF1RE4sWUFBb0M4QixJQUE3QkMsUUFBT1AsRUFBZSxLQUEwQlEsbUJBQW1CUixFQUFlLElBckR6RixPQUFBLEVBNkRhUyxDQUFpQixXQUVqQ1AsT0FBT1EsWUF0REh4QixXQThESFUsRUFBRWUsS0FBTSxDQTdETEMsSUFBQUMsV0FBS3JDLElBK0RQc0MsS0FBTSxDQTlESkMsTUFBQUYsV0FBQUUsTUFwQkZDLE9BQUEsOEJBc0JBbEIsUUF2QkRBLEVBd0JBbUIsVUFFRHBCLEdBK0RFcUIsUUFBUyxTQUFXQyxHQUNuQnRCLEVBQVdzQixFQUFTTCxLQUFLLEdBQ00sRUFBMUJLLEVBQVNMLEtBQUssR0FBRzdCLFFBQ3JCVyxFQUFFdUIsRUFoRU5MLEtBQUEsSUFBQU0sYUFBaUIsK0JBQUFDLE9BQUEsUUFtRVQsYUFBZVIsV0FBV1MsT0FBbUMsRUFBMUJILEVBQVNMLEtBQUssR0FBRzdCLFFBbkUzQ1csRUFBQXVCLEVBQUFMLEtBQUEsSUFBQU0sYUFBQSwyQ0FBQUMsT0FBQSxTQXVFZkUsS0FBTSxTQUFXSixHQXJFbEIxRCxRQUFBQyxJQUFPeUQsT0EyQzJCLEtBRW5DdkIsRUFBRyw0Q0FBNkM0QixLQUFNLFdBM0RuRCxJQUFBQyxFQUFLN0IsRUFBTDNDLE1BQUF5RSxPQUFTN0IsRUFBQThCLEtBQUFGIiwiZmlsZSI6ImJveC1zY29yZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBCb3hTY29yZVRhYkNvbnRyb2xsZXIge1xuXHRjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcblx0XHR0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcblx0XHR0aGlzLnRhYmxpc3QgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbcm9sZT10YWJsaXN0XScpO1xuXHRcdHRoaXMudGFicyA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tyb2xlPXRhYl0nKTtcblx0XHR0aGlzLnRhYnBhbmVscyA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tyb2xlPXRhYnBhbmVsXScpO1xuXHRcdHRoaXMuYWN0aXZlVGFiID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignW3JvbGU9dGFiXVthcmlhLXNlbGVjdGVkPXRydWVdJyk7XG5cdFx0Y29uc29sZS5sb2codGhpcy5hY3RpdmVUYWIpO1xuXG5cdFx0dGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcblx0fVxuXG5cdC8vIFByaXZhdGUgZnVuY3Rpb24gdG8gc2V0IGV2ZW50IGxpc3RlbmVyc1xuXHRfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG5cdFx0Zm9yICggbGV0IHRhYiBvZiB0aGlzLnRhYnMgKSB7XG5cdFx0XHR0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR0aGlzLnNldEFjdGl2ZVRhYih0YWIuZ2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJykpO1xuXHRcdFx0fSApO1xuXHRcdFx0dGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiB7XG5cdFx0XHRcdGlmIChlLmtleUNvZGUgPT0gMTMgfHwgZS5rZXlDb2RlID09IDMyKSB7IC8vIHJldHVybiBvciBzcGFjZVxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHRoaXMuc2V0QWN0aXZlVGFiKHRhYi5nZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKVxuXHRcdH1cblx0XHR0aGlzLnRhYmxpc3QuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlID0+IHtcblx0XHRcdHN3aXRjaCAoZS5rZXlDb2RlKSB7XG5cdFx0XHRcdGNhc2UgMzU6IC8vIGVuZCBrZXlcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0dGhpcy5zZXRBY3RpdmVUYWIodGhpcy50YWJzW3RoaXMudGFicy5sZW5ndGggLSAxXS5nZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnKSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgMzY6IC8vIGhvbWUga2V5XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHRoaXMuc2V0QWN0aXZlVGFiKHRoaXMudGFic1swXS5nZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnKSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgMzc6IC8vIGxlZnQgYXJyb3dcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0bGV0IHByZXZpb3VzID0gWy4uLnRoaXMudGFic10uaW5kZXhPZih0aGlzLmFjdGl2ZVRhYikgLSAxO1xuXHRcdFx0XHRcdHByZXZpb3VzID0gcHJldmlvdXMgPj0gMCA/IHByZXZpb3VzIDogdGhpcy50YWJzLmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0dGhpcy5zZXRBY3RpdmVUYWIodGhpcy50YWJzW3ByZXZpb3VzXS5nZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnKSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgMzk6IC8vIHJpZ2h0IGFycm93XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdGxldCBuZXh0ID0gWy4uLnRoaXMudGFic10uaW5kZXhPZih0aGlzLmFjdGl2ZVRhYikgKyAxO1xuXHRcdFx0XHRcdG5leHQgPSBuZXh0IDwgdGhpcy50YWJzLmxlbmd0aCA/IG5leHQgOiAwXG5cdFx0XHRcdFx0dGhpcy5zZXRBY3RpdmVUYWIodGhpcy50YWJzW25leHRdLmdldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9KVxuXHR9XG5cblx0Ly8gUHVibGljIGZ1bmN0aW9uIHRvIHNldCB0aGUgdGFiIGJ5IGlkXG5cdC8vIFRoaXMgY2FuIGJlIGNhbGxlZCBieSB0aGUgZGV2ZWxvcGVyIHRvby5cblx0c2V0QWN0aXZlVGFiKGlkKSB7XG5cdFx0Zm9yIChsZXQgdGFiIG9mIHRoaXMudGFicykge1xuXHRcdGlmICh0YWIuZ2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJykgPT0gaWQpIHtcblx0XHRcdHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBcInRydWVcIik7XG5cdFx0XHR0YWIuZm9jdXMoKTtcblx0XHRcdHRoaXMuYWN0aXZlVGFiID0gdGFiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgXCJmYWxzZVwiKTtcblx0XHR9XG5cdFx0fVxuXHRcdGZvciAobGV0IHRhYnBhbmVsIG9mIHRoaXMudGFicGFuZWxzKSB7XG5cdFx0aWYgKHRhYnBhbmVsLmdldEF0dHJpYnV0ZSgnaWQnKSA9PSBpZCkge1xuXHRcdFx0dGFicGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgXCJ0cnVlXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YWJwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBcImZhbHNlXCIpO1xuXHRcdH1cblx0XHR9XG5cdH1cblx0fVxuXG5jb25zdCBib3hTY29yZVRhYkNvbnRyb2xsZXIgPSBuZXcgQm94U2NvcmVUYWJDb250cm9sbGVyKCAnI2JveC1zY29yZS1ldmVudHMnICk7XG5cblxualF1ZXJ5KCBmdW5jdGlvbiggJCApIHtcblxuXHRsZXQgZ2V0VXJsUGFyYW1ldGVyID0gZnVuY3Rpb24gZ2V0VXJsUGFyYW1ldGVyKHNQYXJhbSkge1xuXHRcdHZhciBzUGFnZVVSTCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLFxuXHRcdFx0c1VSTFZhcmlhYmxlcyA9IHNQYWdlVVJMLnNwbGl0KCcmJyksXG5cdFx0XHRzUGFyYW1ldGVyTmFtZSxcblx0XHRcdGk7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgc1VSTFZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0c1BhcmFtZXRlck5hbWUgPSBzVVJMVmFyaWFibGVzW2ldLnNwbGl0KCc9Jyk7XG5cblx0XHRcdGlmIChzUGFyYW1ldGVyTmFtZVswXSA9PT0gc1BhcmFtKSB7XG5cdFx0XHRcdHJldHVybiB0eXBlb2Ygc1BhcmFtZXRlck5hbWVbMV0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBkZWNvZGVVUklDb21wb25lbnQoc1BhcmFtZXRlck5hbWVbMV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG5cblx0bGV0IGV2ZW50SWRzID0gW107XG5cblx0Y29uc3QgZ2FtZV9pZCA9IGdldFVybFBhcmFtZXRlciggJ2dhbWVfaWQnICk7XG5cblx0d2luZG93LnNldEludGVydmFsKCBnZXRHYW1lRXZlbnRzLCA2MDAwMCApO1xuXG5cdCQoICcuZ2FtZS1ldmVudHM6bm90KC5ydW5zLXNjb3JlZCkgLmV2ZW50LWlkJyApLmVhY2goIGZ1bmN0aW9uICgpIHtcblx0XHRsZXQgZXZlbnRJRCA9ICQoIHRoaXMgKS50ZXh0KCk7XG5cdFx0ZXZlbnRJZHMucHVzaCggZXZlbnRJRCApO1xuXHR9ICk7XG5cblx0ZnVuY3Rpb24gZ2V0R2FtZUV2ZW50cygpIHtcblx0XHQkLnBvc3QoIHtcblx0XHRcdHVybDogc2Jib3hzY29yZS51cmwsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdG5vbmNlOiBzYmJveHNjb3JlLm5vbmNlLFxuXHRcdFx0XHRhY3Rpb246ICdzcG9ydHNfYmVuY2hfYm94X3Njb3JlX2FqYXgnLFxuXHRcdFx0XHRnYW1lX2lkOiBnYW1lX2lkLFxuXHRcdFx0XHRldmVudF9pZHM6IGV2ZW50SWRzLFxuXHRcdFx0fSxcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uICggcmVzcG9uc2UgKSB7XG5cdFx0XHRcdGV2ZW50SWRzID0gcmVzcG9uc2UuZGF0YVsxXTtcblx0XHRcdFx0aWYgKCByZXNwb25zZS5kYXRhWzBdLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdFx0JChyZXNwb25zZS5kYXRhWzBdKS5pbnNlcnRCZWZvcmUoICcuZ2FtZS1ldmVudHMgdGJvZHkgdHI6Zmlyc3QnICkuZmFkZUluKCdmYXN0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoICdiYXNlYmFsbCcgPT09IHNiYm94c2NvcmUuc3BvcnQgJiYgcmVzcG9uc2UuZGF0YVsyXS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHRcdCQocmVzcG9uc2UuZGF0YVsyXSkuaW5zZXJ0QmVmb3JlKCAnLmdhbWUtZXZlbnRzLnJ1bnMtc2NvcmVkIHRib2R5IHRyOmZpcnN0JyApLmZhZGVJbignZmFzdCcpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZmFpbDogZnVuY3Rpb24gKCByZXNwb25zZSApIHtcblx0XHRcdFx0Y29uc29sZS5sb2coIHJlc3BvbnNlICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxufSApO1xuIl19