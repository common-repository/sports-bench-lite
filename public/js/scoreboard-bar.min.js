"use strict";jQuery(function(i){var e=0,t=0;i(".scoreboard-game").each(function(){e+=i(this).outerWidth(),t+=1});var r=e/t;i("#scoreboard-inner").width(e);var o=10*Math.round(i("#scoreboard-main").width()/10),r=Math.floor(o/r),a=t-r,c=a;i("#scoreboard-bar-right").click(function(){0<a&&i("#scoreboard-inner").animate({left:"-=250px"},1e3,"linear",function(){--a})}),i("#scoreboard-bar-left").click(function(){c!==a&&i("#scoreboard-inner").animate({left:"+=250px"},1e3,"linear",function(){a+=1})});var n=[];i("#scoreboard-bar #scoreboard-main #scoreboard-inner .scoreboard-game").map(function(){var e=(e=this.id).replace(/\D/g,"");n.push(e)}),window.setInterval(function(){var e=n.join(",");i.get(sbscoreboard.rest_url+"sportsbench/games?game_id="+e,{},function(e){e.forEach(function(e){var t,r=i("#scoreboard-bar #"+e.game_id);if("final"===e.game_status)return"FINAL"===r.find(".time").text()?void 0:(r.find(".time").text(),r.find(".time").text("FINAL"),void r.find(".time").effect("highlight",{color:"#999999"},1e4));"scheduled"!==e.game_status&&(e.game_current_away_score!==r.find(".away-score").text()&&(r.find(".away-score").text(e.game_current_away_score),r.find(".away-score").effect("highlight",{color:"#999999"},1e4)),e.game_current_home_score!==r.find(".home-score").text()&&(r.find(".home-score").text(e.game_current_home_score),r.find(".home-score").effect("highlight",{color:"#999999"},1e4)),t=""!==e.game_current_time&&""!==e.game_current_period?" | ":"",e=e.game_current_time.replace("\\","")+t+e.game_current_period,""===r.find(".time").text()?(r.find(".time").text(""),r.find(".time").text(e),r.find(".time").effect("highlight",{color:"#999999"},1e4)):e!==r.find(".time").text()&&(r.find(".time").text(e),r.find(".time").effect("highlight",{color:"#999999"},1e4)))})})},6e4),jQuery("div").hasClass("sports-bench-scoreboard-page")&&window.setInterval(function(){var t=[];i(".sports-bench-scoreboard-page .scoreboard-game").map(function(){var e=this.id;e=(e=e.replace(/\D/g,"")).replace("game-",""),t.push(e)});var e=n.join(",");i.get(sbscoreboard.rest_url+"sportsbench/games?game_id="+e,{},function(e){e.forEach(function(e){var t,r=i("#game-"+e.game_id);if("final"===e.game_status)return"FINAL"===r.find(".time").text()?void 0:(r.find(".time").text("FINAL"),void r.find(".time").effect("highlight",{color:"#999999"},1e4));"scheduled"!==e.game_status&&(e.game_current_away_score!==r.find(".away-score").text()&&(r.find(".away-score").text(e.game_current_away_score),r.find(".away-score").effect("highlight",{color:"#999999"},1e4)),e.game_current_home_score!==r.find(".home-score").text()&&(r.find(".home-score").text(e.game_current_home_score),r.find(".home-score").effect("highlight",{color:"#999999"},1e4)),t=""!=e.game_current_time&&""!=e.game_current_period?" | ":"",e=e.game_current_time.replace("\\","")+t+e.game_current_period,""===r.find(".time").text()?(r.find(".time").text(""),r.find(".time").text(e),r.find(".time").effect("highlight",{color:"#999999"},1e4)):e!=r.find(".time").text()&&(r.find(".time").text(e),r.find(".time").effect("highlight",{color:"#999999"},1e4)))})})},6e4);var d=[];i(".sports_bench_scoreboard_widget .scoreboard-game").map(function(){var e=this.id;e=(e=e.replace(/\D/g,"")).replace("widget-game-",""),d.push(e)}),window.setInterval(function(){var e=d.join(",");i.get(sbscoreboard.rest_url+"sportsbench/games?game_id="+e,{},function(e){e.forEach(function(e){var t,r=i(".sports_bench_scoreboard_widget .scoreboard-game#widget-game-"+e.game_id);if("final"===e.game_status)return"FINAL"===r.find(".time").text()?void 0:(r.find(".time").text("FINAL"),void r.find(".time").effect("highlight",{color:"#999999"},1e4));"scheduled"!==e.game_status&&(e.game_current_away_score!==r.find(".away-score").text()&&(r.find(".away-score").text(e.game_current_away_score),r.find(".away-score").effect("highlight",{color:"#999999"},1e4)),e.game_current_home_score!==r.find(".home-score").text()&&(r.find(".home-score").text(e.game_current_home_score),r.find(".home-score").effect("highlight",{color:"#999999"},1e4)),t=""!==e.game_current_time&&""!==e.game_current_period?" | ":"",e=e.game_current_time.replace("\\","")+t+e.game_current_period,""===r.find(".time").text()?(r.find(".time").text(""),r.find(".time").text(e),r.find(".time").effect("highlight",{color:"#999999"},1e4)):e!==r.find(".time").text()&&(r.find(".time").text(e),r.find(".time").effect("highlight",{color:"#999999"},1e4)))})})},6e4)});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjb3JlYm9hcmQtYmFyLmpzIl0sIm5hbWVzIjpbImpRdWVyeSIsIiQiLCJjb3VudCIsImVhY2giLCJ0aGlzIiwib3V0ZXJXaWR0aCIsIndpZHRoIiwiZ2FtZVdpZHRoIiwibWFpbldpZHRoIiwiTWF0aCIsInJvdW5kIiwiZmxvb3IiLCJnYW1lc0xlZnQiLCJnYW1lc1BlclNsaWRlIiwiY2xpY2siLCJhbmltYXRlIiwibGVmdCIsImluaXRHYW1lc0xlZnQiLCJjdXJyZW50R2FtZXMiLCJpZCIsImdhbWVJRCIsIm1hcCIsInB1c2giLCJyZXBsYWNlIiwid2luZG93Iiwic2V0SW50ZXJ2YWwiLCJnZXRHYW1lSW5mbyIsImxvYWRpbmciLCJnYW1lSURzIiwidGhlR2FtZSIsImpvaW4iLCJnZXQiLCJzYnNjb3JlYm9hcmQiLCJyZXN0X3VybCIsImZvckVhY2giLCJyZXMiLCJnYW1lX3N0YXR1cyIsInNlcCIsImZpbmQiLCJnYW1lIiwiZ2FtZV9pZCIsInRleHQiLCJjb2xvciIsImVmZmVjdCIsImdhbWVfY3VycmVudF9hd2F5X3Njb3JlIiwiZ2FtZV9jdXJyZW50X2hvbWVfc2NvcmUiLCJnYW1lX2N1cnJlbnRfdGltZSIsImdhbWVfY3VycmVudF9wZXJpb2QiLCJ0aW1lIiwicGVyaW9kIiwidGltZUluR2FtZSIsImhhc0NsYXNzIiwibG9hZGVkR2FtZXMiLCJnZXRTY29yZWJvYXJkR2FtZUluZm8iLCJkYXRhIiwiY3VycmVudFdpZGdldEdhbWVzIl0sIm1hcHBpbmdzIjoiYUFBQUEsT0FBUSxTQUFVQyxHQUFsQkQsSUFBQUEsRUFBUSxFQUVQRSxFQUFTLEVBQ1RELEVBQUEsb0JBQUFFLEtBQUEsV0FDQUYsR0FBR0EsRUFBQUcsTUFBQUMsYUFDRkMsR0FBSyxJQUVMLElBSERDLEVBQUFELEVBQUFKLEVBSUFELEVBQUEscUJBQTBCQyxNQUExQkksR0FDQUwsSUFBR08sRUFBSCxHQUFHQyxLQUFIQyxNQUFnQ0osRUFBQUEsb0JBQWhDQSxRQUFBLElBQ01FLEVBQWlC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QSxXQUF6QyxZQS9DQyIsImZpbGUiOiJzY29yZWJvYXJkLWJhci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJqUXVlcnkoIGZ1bmN0aW9uKCAkICkge1xuXG5cdGxldCB3aWR0aCA9IDA7XG5cdGxldCBjb3VudCA9IDA7XG5cdCQoICcuc2NvcmVib2FyZC1nYW1lJyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdHdpZHRoICs9ICQoIHRoaXMgKS5vdXRlcldpZHRoKCk7XG5cdFx0Y291bnQgKz0gMTtcblx0fSApO1xuXHRjb25zdCBnYW1lV2lkdGggPSB3aWR0aCAvIGNvdW50O1xuXHQkKCAnI3Njb3JlYm9hcmQtaW5uZXInICkud2lkdGgoIHdpZHRoICk7XG5cdGNvbnN0IG1haW5XaWR0aCA9IE1hdGgucm91bmQoICQoICcjc2NvcmVib2FyZC1tYWluJyApLndpZHRoKCkgLyAxMCApICogMTA7XG5cdGNvbnN0IGdhbWVzUGVyU2xpZGUgPSBNYXRoLmZsb29yKCBtYWluV2lkdGggLyBnYW1lV2lkdGggKTtcblx0bGV0IGdhbWVzTGVmdCA9IGNvdW50IC0gZ2FtZXNQZXJTbGlkZTtcblx0Y29uc3QgaW5pdEdhbWVzTGVmdCA9IGdhbWVzTGVmdDtcblxuXHQkKCAnI3Njb3JlYm9hcmQtYmFyLXJpZ2h0JyApLmNsaWNrKCBmdW5jdGlvbigpIHtcblx0XHRpZiAoIGdhbWVzTGVmdCA+IDAgKSB7XG5cdFx0XHQkKCAnI3Njb3JlYm9hcmQtaW5uZXInICkuYW5pbWF0ZSgge1xuXHRcdFx0XHRsZWZ0OiAnLT0yNTBweCcsXG5cdFx0XHR9LCAxMDAwLCAnbGluZWFyJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGdhbWVzTGVmdCAtPSAxO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0fSApO1xuXG5cdCQoICcjc2NvcmVib2FyZC1iYXItbGVmdCcgKS5jbGljayggZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBpbml0R2FtZXNMZWZ0ICE9PSBnYW1lc0xlZnQgKSB7XG5cdFx0XHQkKCAnI3Njb3JlYm9hcmQtaW5uZXInICkuYW5pbWF0ZSgge1xuXHRcdFx0XHRsZWZ0OiAnKz0yNTBweCdcblx0XHRcdH0sIDEwMDAsICdsaW5lYXInLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Z2FtZXNMZWZ0ICs9IDE7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9ICk7XG5cblx0Ly8qIFJlYWQgdGhlIGdhbWVzIGluIHRoZSBiYW5uZXIgaW50byBhbiBhcnJheVxuXHRjb25zdCBjdXJyZW50R2FtZXMgPSBbXTtcblx0JCggJyNzY29yZWJvYXJkLWJhciAjc2NvcmVib2FyZC1tYWluICNzY29yZWJvYXJkLWlubmVyIC5zY29yZWJvYXJkLWdhbWUnICkubWFwKCBmdW5jdGlvbigpIHtcblx0XHRsZXQgZ2FtZUlEID0gdGhpcy5pZDtcblx0XHRnYW1lSUQgPSBnYW1lSUQucmVwbGFjZSggL1xcRC9nLCAnJyApO1xuXHRcdGN1cnJlbnRHYW1lcy5wdXNoKCBnYW1lSUQgKTtcblx0fSApO1xuXG5cdHdpbmRvdy5zZXRJbnRlcnZhbCggZ2V0R2FtZUluZm8sIDYwMDAwICk7XG5cblx0ZnVuY3Rpb24gZ2V0R2FtZUluZm8oKSB7XG5cdFx0bGV0IGxvYWRpbmcgPSB0cnVlO1xuXHRcdGNvbnN0IGRhdGEgPSB7fTtcblx0XHRjb25zdCBnYW1lSURzID0gY3VycmVudEdhbWVzLmpvaW4oICcsJyApO1xuXHRcdCQuZ2V0KCBzYnNjb3JlYm9hcmQucmVzdF91cmwgKyAnc3BvcnRzYmVuY2gvZ2FtZXM/Z2FtZV9pZD0nICsgZ2FtZUlEcywgZGF0YSwgZnVuY3Rpb24oIHJlcyApIHtcblx0XHRcdHJlcy5mb3JFYWNoKCBmdW5jdGlvbiggZ2FtZSApIHtcblx0XHRcdFx0Y29uc3QgdGhlR2FtZSA9ICQoICcjc2NvcmVib2FyZC1iYXIgIycgKyBnYW1lLmdhbWVfaWQgKTtcblxuXHRcdFx0XHRpZiAoIGdhbWUuZ2FtZV9zdGF0dXMgPT09ICdmaW5hbCcgKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGVHYW1lLmZpbmQoICcudGltZScgKS50ZXh0KCkgPT09ICdGSU5BTCcgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoZUdhbWUuZmluZCggJy50aW1lJyApLnRleHQoKTtcblx0XHRcdFx0XHRcdHRoZUdhbWUuZmluZCggJy50aW1lJyApLnRleHQoICdGSU5BTCcgKTtcblx0XHRcdFx0XHRcdHRoZUdhbWUuZmluZCggJy50aW1lJyApLmVmZmVjdCggJ2hpZ2hsaWdodCcsIHsgY29sb3I6ICcjOTk5OTk5JyB9LCAxMDAwMCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggZ2FtZS5nYW1lX3N0YXR1cyA9PT0gJ3NjaGVkdWxlZCcgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBnYW1lLmdhbWVfY3VycmVudF9hd2F5X3Njb3JlICE9PSB0aGVHYW1lLmZpbmQoICcuYXdheS1zY29yZScgKS50ZXh0KCkgKSB7XG5cdFx0XHRcdFx0dGhlR2FtZS5maW5kKCAnLmF3YXktc2NvcmUnICkudGV4dCggZ2FtZS5nYW1lX2N1cnJlbnRfYXdheV9zY29yZSApO1xuXHRcdFx0XHRcdHRoZUdhbWUuZmluZCggJy5hd2F5LXNjb3JlJyApLmVmZmVjdCggJ2hpZ2hsaWdodCcsIHsgY29sb3I6ICcjOTk5OTk5JyB9LCAxMDAwMCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBnYW1lLmdhbWVfY3VycmVudF9ob21lX3Njb3JlICE9PSB0aGVHYW1lLmZpbmQoICcuaG9tZS1zY29yZScgKS50ZXh0KCkgKSB7XG5cdFx0XHRcdFx0dGhlR2FtZS5maW5kKCAnLmhvbWUtc2NvcmUnICkudGV4dCggZ2FtZS5nYW1lX2N1cnJlbnRfaG9tZV9zY29yZSApO1xuXHRcdFx0XHRcdHRoZUdhbWUuZmluZCggJy5ob21lLXNjb3JlJyApLmVmZmVjdCggJ2hpZ2hsaWdodCcsIHsgY29sb3I6ICcjOTk5OTk5JyB9LCAxMDAwMCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IHNlcDtcblx0XHRcdFx0aWYgKCBnYW1lLmdhbWVfY3VycmVudF90aW1lICE9PSAnJyAmJiBnYW1lLmdhbWVfY3VycmVudF9wZXJpb2QgIT09ICcnICkge1xuXHRcdFx0XHRcdHNlcCA9ICcgfCAnO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlcCA9ICcnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IHRpbWUgPSBnYW1lLmdhbWVfY3VycmVudF90aW1lLnJlcGxhY2UoICdcXFxcJywgJycgKTtcblx0XHRcdFx0Y29uc3QgcGVyaW9kID0gZ2FtZS5nYW1lX2N1cnJlbnRfcGVyaW9kO1xuXHRcdFx0XHRjb25zdCB0aW1lSW5HYW1lID0gdGltZSArIHNlcCArIHBlcmlvZDtcblxuXHRcdFx0XHRpZiAoIHRoZUdhbWUuZmluZCggJy50aW1lJyApLnRleHQoKSA9PT0gJycgKSB7XG5cdFx0XHRcdFx0dGhlR2FtZS5maW5kKCAnLnRpbWUnICkudGV4dCggJycgKTtcblx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcudGltZScgKS50ZXh0KCB0aW1lSW5HYW1lICk7XG5cdFx0XHRcdFx0dGhlR2FtZS5maW5kKCAnLnRpbWUnICkuZWZmZWN0KCAnaGlnaGxpZ2h0JywgeyBjb2xvcjogJyM5OTk5OTknIH0sIDEwMDAwICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKCB0aW1lSW5HYW1lICE9PSB0aGVHYW1lLmZpbmQoICcudGltZScgKS50ZXh0KCkgKSB7XG5cdFx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcudGltZScgKS50ZXh0KCB0aW1lSW5HYW1lICk7XG5cdFx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcudGltZScgKS5lZmZlY3QoICdoaWdobGlnaHQnLCB7Y29sb3I6ICcjOTk5OTk5J30sIDEwMDAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0XHRsb2FkaW5nID0gZmFsc2U7XG5cdFx0fSApO1xuXHR9XG5cblx0aWYgKCBqUXVlcnkoICdkaXYnICkuaGFzQ2xhc3MoICdzcG9ydHMtYmVuY2gtc2NvcmVib2FyZC1wYWdlJyApICkge1xuXG5cdFx0d2luZG93LnNldEludGVydmFsKCBnZXRTY29yZWJvYXJkR2FtZUluZm8sIDYwMDAwICk7XG5cblx0XHRmdW5jdGlvbiBnZXRTY29yZWJvYXJkR2FtZUluZm8oKSB7XG5cdFx0XHRsZXQgbG9hZGVkR2FtZXMgPSBbXTtcblx0XHRcdCQoICcuc3BvcnRzLWJlbmNoLXNjb3JlYm9hcmQtcGFnZSAuc2NvcmVib2FyZC1nYW1lJyApLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGxldCBnYW1lSUQgPSB0aGlzLmlkO1xuXHRcdFx0XHRnYW1lSUQgPSBnYW1lSUQucmVwbGFjZSggL1xcRC9nLCcnICk7XG5cdFx0XHRcdGdhbWVJRCA9IGdhbWVJRC5yZXBsYWNlKCAnZ2FtZS0nLCAnJyApO1xuXHRcdFx0XHRsb2FkZWRHYW1lcy5wdXNoKCBnYW1lSUQgKTtcblx0XHRcdH0gKTtcblxuXHRcdFx0bGV0IGxvYWRpbmcgPSB0cnVlO1xuXHRcdFx0Y29uc3QgZ2FtZUlEcyA9IGN1cnJlbnRHYW1lcy5qb2luKCAnLCcgKTtcblx0XHRcdGNvbnN0IGRhdGEgPSB7fTtcblx0XHRcdCQuZ2V0KCBzYnNjb3JlYm9hcmQucmVzdF91cmwgKyAnc3BvcnRzYmVuY2gvZ2FtZXM/Z2FtZV9pZD0nICsgZ2FtZUlEcywgZGF0YSwgZnVuY3Rpb24oIHJlcyApIHtcblx0XHRcdFx0cmVzLmZvckVhY2goIGZ1bmN0aW9uKCBnYW1lICkge1xuXHRcdFx0XHRcdGNvbnN0IHRoZUdhbWUgPSAkKCAnI2dhbWUtJyArIGdhbWUuZ2FtZV9pZCApO1xuXG5cdFx0XHRcdFx0aWYgKCBnYW1lLmdhbWVfc3RhdHVzID09PSAnZmluYWwnICkge1xuXHRcdFx0XHRcdFx0aWYgKCB0aGVHYW1lLmZpbmQoICcudGltZScgKS50ZXh0KCkgPT09ICdGSU5BTCcgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRoZUdhbWUuZmluZCggJy50aW1lJyApLnRleHQoICdGSU5BTCcgKTtcblx0XHRcdFx0XHRcdFx0dGhlR2FtZS5maW5kKCAnLnRpbWUnICkuZWZmZWN0KCAnaGlnaGxpZ2h0JywgeyBjb2xvcjogJyM5OTk5OTknIH0sIDEwMDAwICk7XG5cdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICggZ2FtZS5nYW1lX3N0YXR1cyA9PT0gJ3NjaGVkdWxlZCcgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCBnYW1lLmdhbWVfY3VycmVudF9hd2F5X3Njb3JlICE9PSB0aGVHYW1lLmZpbmQoICcuYXdheS1zY29yZScgKS50ZXh0KCkgKSB7XG5cdFx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcuYXdheS1zY29yZScgKS50ZXh0KCBnYW1lLmdhbWVfY3VycmVudF9hd2F5X3Njb3JlICk7XG5cdFx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcuYXdheS1zY29yZScgKS5lZmZlY3QoICdoaWdobGlnaHQnLCB7IGNvbG9yOiAnIzk5OTk5OScgfSwgMTAwMDAgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIGdhbWUuZ2FtZV9jdXJyZW50X2hvbWVfc2NvcmUgIT09IHRoZUdhbWUuZmluZCggJy5ob21lLXNjb3JlJyApLnRleHQoKSApIHtcblx0XHRcdFx0XHRcdHRoZUdhbWUuZmluZCggJy5ob21lLXNjb3JlJyApLnRleHQoIGdhbWUuZ2FtZV9jdXJyZW50X2hvbWVfc2NvcmUgKTtcblx0XHRcdFx0XHRcdHRoZUdhbWUuZmluZCggJy5ob21lLXNjb3JlJyApLmVmZmVjdCggJ2hpZ2hsaWdodCcsIHsgY29sb3I6ICcjOTk5OTk5JyB9LCAxMDAwMCApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGxldCBzZXA7XG5cdFx0XHRcdFx0aWYgKCBnYW1lLmdhbWVfY3VycmVudF90aW1lICE9ICcnICYmIGdhbWUuZ2FtZV9jdXJyZW50X3BlcmlvZCAhPSAnJyApIHtcblx0XHRcdFx0XHRcdHNlcCA9ICcgfCAnO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZXAgPSAnJztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29uc3QgdGltZSA9IGdhbWUuZ2FtZV9jdXJyZW50X3RpbWUucmVwbGFjZSggJ1xcXFwnLCAnJyApO1xuXHRcdFx0XHRcdGNvbnN0IHBlcmlvZCA9IGdhbWUuZ2FtZV9jdXJyZW50X3BlcmlvZDtcblx0XHRcdFx0XHRjb25zdCB0aW1lSW5HYW1lID0gdGltZSArIHNlcCArIHBlcmlvZDtcblxuXHRcdFx0XHRcdGlmICggdGhlR2FtZS5maW5kKCAnLnRpbWUnICkudGV4dCgpID09PSAnJyApIHtcblx0XHRcdFx0XHRcdHRoZUdhbWUuZmluZCggJy50aW1lJyApLnRleHQoICcnICk7XG5cdFx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcudGltZScgKS50ZXh0KCB0aW1lSW5HYW1lICk7XG5cdFx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcudGltZScgKS5lZmZlY3QoICdoaWdobGlnaHQnLCB7IGNvbG9yOiAnIzk5OTk5OScgfSwgMTAwMDAgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aWYgKCB0aW1lSW5HYW1lICE9IHRoZUdhbWUuZmluZCggJy50aW1lJyApLnRleHQoKSApIHtcblx0XHRcdFx0XHRcdFx0dGhlR2FtZS5maW5kKCAnLnRpbWUnICkudGV4dCggdGltZUluR2FtZSApO1xuXHRcdFx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcudGltZScgKS5lZmZlY3QoICdoaWdobGlnaHQnLCB7Y29sb3I6ICcjOTk5OTk5J30sIDEwMDAwICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0bG9hZGluZyA9IGZhbHNlO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0fVxuXG5cdC8vKiBSZWFkIHRoZSBnYW1lcyBpbiB0aGUgd2lkZ2V0IGludG8gYW4gYXJyYXlcblx0bGV0IGN1cnJlbnRXaWRnZXRHYW1lcyA9IFtdO1xuXHQkKCAnLnNwb3J0c19iZW5jaF9zY29yZWJvYXJkX3dpZGdldCAuc2NvcmVib2FyZC1nYW1lJyApLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0bGV0IGdhbWVJRCA9IHRoaXMuaWQ7XG5cdFx0Z2FtZUlEID0gZ2FtZUlELnJlcGxhY2UoIC9cXEQvZywnJyApO1xuXHRcdGdhbWVJRCA9IGdhbWVJRC5yZXBsYWNlKCAnd2lkZ2V0LWdhbWUtJywgJycgKTtcblx0XHRjdXJyZW50V2lkZ2V0R2FtZXMucHVzaCggZ2FtZUlEICk7XG5cdH0gKTtcblxuXHR3aW5kb3cuc2V0SW50ZXJ2YWwoIGdldFdpZGdldEdhbWVJbmZvLCA2MDAwMCApO1xuXG5cdGZ1bmN0aW9uIGdldFdpZGdldEdhbWVJbmZvKCkge1xuXHRcdGxldCBsb2FkaW5nID0gdHJ1ZTtcblx0XHRjb25zdCBkYXRhID0ge307XG5cdFx0Y29uc3QgZ2FtZUlEcyA9IGN1cnJlbnRXaWRnZXRHYW1lcy5qb2luKCAnLCcgKTtcblx0XHQkLmdldCggc2JzY29yZWJvYXJkLnJlc3RfdXJsICsgJ3Nwb3J0c2JlbmNoL2dhbWVzP2dhbWVfaWQ9JyArIGdhbWVJRHMsIGRhdGEsIGZ1bmN0aW9uKCByZXMgKSB7XG5cdFx0XHRyZXMuZm9yRWFjaCggZnVuY3Rpb24oIGdhbWUgKSB7XG5cdFx0XHRcdGNvbnN0IHRoZUdhbWUgPSAkKCAnLnNwb3J0c19iZW5jaF9zY29yZWJvYXJkX3dpZGdldCAuc2NvcmVib2FyZC1nYW1lI3dpZGdldC1nYW1lLScgKyBnYW1lLmdhbWVfaWQgKTtcblxuXHRcdFx0XHRpZiAoIGdhbWUuZ2FtZV9zdGF0dXMgPT09ICdmaW5hbCcgKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGVHYW1lLmZpbmQoICcudGltZScgKS50ZXh0KCkgPT09ICdGSU5BTCcgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoZUdhbWUuZmluZCggJy50aW1lJyApLnRleHQoICdGSU5BTCcgKTtcblx0XHRcdFx0XHRcdHRoZUdhbWUuZmluZCggJy50aW1lJyApLmVmZmVjdCggJ2hpZ2hsaWdodCcsIHsgY29sb3I6ICcjOTk5OTk5JyB9LCAxMDAwMCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBnYW1lLmdhbWVfc3RhdHVzID09PSAnc2NoZWR1bGVkJyApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIGdhbWUuZ2FtZV9jdXJyZW50X2F3YXlfc2NvcmUgIT09IHRoZUdhbWUuZmluZCggJy5hd2F5LXNjb3JlJyApLnRleHQoKSApIHtcblx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcuYXdheS1zY29yZScgKS50ZXh0KCBnYW1lLmdhbWVfY3VycmVudF9hd2F5X3Njb3JlICk7XG5cdFx0XHRcdFx0dGhlR2FtZS5maW5kKCAnLmF3YXktc2NvcmUnICkuZWZmZWN0KCAnaGlnaGxpZ2h0JywgeyBjb2xvcjogJyM5OTk5OTknIH0sIDEwMDAwICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIGdhbWUuZ2FtZV9jdXJyZW50X2hvbWVfc2NvcmUgIT09IHRoZUdhbWUuZmluZCggJy5ob21lLXNjb3JlJyApLnRleHQoKSApIHtcblx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcuaG9tZS1zY29yZScgKS50ZXh0KCBnYW1lLmdhbWVfY3VycmVudF9ob21lX3Njb3JlICk7XG5cdFx0XHRcdFx0dGhlR2FtZS5maW5kKCAnLmhvbWUtc2NvcmUnICkuZWZmZWN0KCAnaGlnaGxpZ2h0JywgeyBjb2xvcjogJyM5OTk5OTknIH0sIDEwMDAwICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgc2VwO1xuXHRcdFx0XHRpZiAoIGdhbWUuZ2FtZV9jdXJyZW50X3RpbWUgIT09ICcnICYmIGdhbWUuZ2FtZV9jdXJyZW50X3BlcmlvZCAhPT0gJycgKSB7XG5cdFx0XHRcdFx0c2VwID0gJyB8ICc7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2VwID0gJyc7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgdGltZSA9IGdhbWUuZ2FtZV9jdXJyZW50X3RpbWUucmVwbGFjZSggJ1xcXFwnLCAnJyApO1xuXHRcdFx0XHRjb25zdCBwZXJpb2QgPSBnYW1lLmdhbWVfY3VycmVudF9wZXJpb2Q7XG5cdFx0XHRcdGNvbnN0IHRpbWVJbkdhbWUgPSB0aW1lICsgc2VwICsgcGVyaW9kO1xuXG5cdFx0XHRcdGlmICggdGhlR2FtZS5maW5kKCAnLnRpbWUnICkudGV4dCgpID09PSAnJyApIHtcblx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcudGltZScgKS50ZXh0KCAnJyApO1xuXHRcdFx0XHRcdHRoZUdhbWUuZmluZCggJy50aW1lJyApLnRleHQoIHRpbWVJbkdhbWUgKTtcblx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcudGltZScgKS5lZmZlY3QoICdoaWdobGlnaHQnLCB7IGNvbG9yOiAnIzk5OTk5OScgfSwgMTAwMDAgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoIHRpbWVJbkdhbWUgIT09IHRoZUdhbWUuZmluZCgnLnRpbWUnKS50ZXh0KCkgKSB7XG5cdFx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcudGltZScgKS50ZXh0KCB0aW1lSW5HYW1lICk7XG5cdFx0XHRcdFx0XHR0aGVHYW1lLmZpbmQoICcudGltZScgKS5lZmZlY3QoICdoaWdobGlnaHQnLCB7Y29sb3I6ICcjOTk5OTk5J30sIDEwMDAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0XHRsb2FkaW5nID0gZmFsc2U7XG5cdFx0fSApO1xuXHR9XG59ICk7XG4iXX0=